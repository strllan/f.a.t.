<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Bookings | Community First Aid &amp; CPR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Top bar -->
  <div class="top-bar">
    <div class="container top-bar-inner center-top-bar">
      <span>☎ 0406 618 128</span>
      <span>|</span>
      <span>✉ admin@communityfirstaid.com.au</span>
    </div>
  </div>

  <!-- Header / Nav -->
  <header>
    <div class="container nav-container">
      <div class="logo">
        <div class="logo-circle">FA</div>
        <div>
          <div class="logo-text-main">SYDNEY COMMUNITY</div>
          <div class="logo-text-sub">FIRST AID &amp; CPR</div>
        </div>
      </div>

      <input type="checkbox" id="nav-toggle" class="nav-toggle" />
      <label for="nav-toggle" class="nav-toggle-label">
        <span></span><span></span><span></span>
      </label>

      <nav>
        <a href="../">Home</a>
        <a href="../about/">About Us</a>
        <a href="../courses/">Courses</a>
        <a href="../locations/">Locations</a>
        <a href="../contact/">Contact</a>
        <a href="./" class="active">
          <button class="btn-primary">Book Now</button>
        </a>
      </nav>
    </div>
  </header>

  <!-- Page hero -->
  <div class="page-hero">
    <div class="container">
      <h1>Book a Course</h1>
      <p>Select a date, course and location, then click Book to secure your spot.</p>
    </div>
  </div>

  <!-- Booking table -->
  <section class="section">
    <div class="container">
      <h2>Upcoming courses</h2>
      <p>Below are some example sessions. You can update dates, times and prices as needed.</p>

      <div class="schedule-wrapper">
        <table class="schedule-table">
          <thead>
            <tr>
              <th>Date &amp; time</th>
              <th>Course</th>
              <th>Venue</th>
              <th>Suburb</th>
              <th>State</th>
              <th>Cost</th>
              <th class="actions-header"></th>
            </tr>
          </thead>
          <tbody>
            <!-- Month heading row -->
            <tr class="month-row">
              <td colspan="7">November 2025</td>
            </tr>

            <tr>
              <td>Sat, 23 Nov 2025 – 1:30 pm</td>
              <td>HLTAID011 Provide First Aid</td>
              <td>St George Community Centre, Short St</td>
              <td>Kogarah</td>
              <td>NSW</td>
              <td>$120</td>
              <td class="actions-cell">
                <a href="../courses/" class="btn-info">Info</a>
                <a href="#" class="btn-book open-booking-modal"
                   data-course="HLTAID011 Provide First Aid"
                   data-price="120">
                  Book
                </a>
              </td>
            </tr>

            <tr>
              <td>Sat, 23 Nov 2025 – 4:30 pm</td>
              <td>HLTAID009 Provide CPR</td>
              <td>St George Community Centre, Short St</td>
              <td>Kogarah</td>
              <td>NSW</td>
              <td>$65</td>
              <td class="actions-cell">
                <a href="../courses/" class="btn-info">Info</a>
                <a href="#" class="btn-book open-booking-modal"
                   data-course="HLTAID009 Provide CPR"
                   data-price="65">
                  Book
                </a>
              </td>
            </tr>

            <tr>
              <td>Mon, 24 Nov 2025 – 6:00 pm</td>
              <td>HLTAID012 First Aid in Education &amp; Care</td>
              <td>Strathfield Community Centre, Bates St</td>
              <td>Homebush</td>
              <td>NSW</td>
              <td>$150</td>
              <td class="actions-cell">
                <a href="../courses/" class="btn-info">Info</a>
                <a href="#" class="btn-book open-booking-modal"
                   data-course="HLTAID012 First Aid in Education &amp; Care"
                   data-price="150">
                  Book
                </a>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Booking popup modal -->
  <div class="modal-overlay" id="booking-modal">
    <div class="modal">
      <button class="modal-close" aria-label="Close booking form">&times;</button>

      <h2>Book a course</h2>
      <p>Select your course below. Payment will be added soon with secure online checkout.</p>

      <div class="form-group">
        <label for="course-select"><strong>Course</strong></label>
        <select id="course-select">
          <option value="" data-price="0">Please select a course</option>
          <option value="HLTAID009" data-price="65">HLTAID009 Provide CPR – $65</option>
          <option value="HLTAID011" data-price="120">HLTAID011 Provide First Aid – $120</option>
          <option value="HLTAID012" data-price="150">HLTAID012 First Aid in Education &amp; Care – $150</option>
        </select>
      </div>

      <div class="modal-total">
        <span>Total:</span>
        <span id="course-total">$0</span>
      </div>

      <button class="btn-primary modal-pay-btn" type="button">
        Pay (coming soon)
      </button>

      <p class="modal-note">
        Online credit card payments will be added soon. For now, please use the
        <a href="../contact/">contact form</a> to complete your booking.
      </p>
    </div>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-title">Community First Aid Training</div>
      <div class="footer-contact">
        <span>☎ 0406 618 128</span>
        <span class="divider">|</span>
        <span>✉ admin@communityfirstaidtraining.com.au</span>
      </div>
    </div>
  </footer>

  <script>
    // Booking modal logic (ONLY on bookings page)
    const modal = document.getElementById('booking-modal');
    const openButtons = document.querySelectorAll('.open-booking-modal');
    const closeButton = modal.querySelector('.modal-close');
    const courseSelect = document.getElementById('course-select');
    const totalSpan = document.getElementById('course-total');

    // Open modal when clicking any "Book" button in the table
    openButtons.forEach(btn => {
      btn.addEventListener('click', function (e) {
        e.preventDefault();

        const courseName = this.getAttribute('data-course');
        const coursePrice = this.getAttribute('data-price');

        // Pre-select the matching course in the dropdown
        Array.from(courseSelect.options).forEach(option => {
          if (option.value && courseName.includes(option.value)) {
            option.selected = true;
          }
        });

        // Update total
        if (coursePrice) {
          totalSpan.textContent = `$${coursePrice}`;
        } else {
          totalSpan.textContent = '$0';
        }

        modal.classList.add('open');
      });
    });

    // Close modal (X button)
    closeButton.addEventListener('click', function () {
      modal.classList.remove('open');
    });

    // Close when clicking outside the modal
    modal.addEventListener('click', function (e) {
      if (e.target === modal) {
        modal.classList.remove('open');
      }
    });

    // Update total when dropdown changes
    courseSelect.addEventListener('change', function () {
      const selected = courseSelect.options[courseSelect.selectedIndex];
      const price = selected.getAttribute('data-price') || '0';
      totalSpan.textContent = price === '0' ? '$0' : `$${price}`;
    });

    // Pay button placeholder
    const payButton = document.querySelector('.modal-pay-btn');
    payButton.addEventListener('click', function () {
      if (!courseSelect.value) {
        alert('Please select a course first.');
        return;
      }
      alert('Payment system coming soon. We will add secure online payments here.');
    });
  </script>

</body>
</html>
